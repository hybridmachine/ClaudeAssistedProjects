<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameOfLife3D</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <div id="viewport">
            <canvas id="canvas"></canvas>
        </div>

        <button id="toggle-controls" class="controls-toggle" aria-controls="controls" aria-expanded="true">
            Hide Controls
        </button>

        <div id="controls" class="controls-panel">
            <div class="controls-content">
                <div class="control-section">
                    <h3>File Operations</h3>
                    <input type="file" id="load-pattern" accept=".rle,.txt" style="display: none;">
                    <button id="load-pattern-btn">Load Pattern</button>
                    <button id="save-session">Save Session</button>
                    <input type="file" id="load-session" accept=".json" style="display: none;">
                    <button id="load-session-btn">Load Session</button>
                </div>

                <div class="control-section">
                    <h3>Simulation</h3>
                    <label for="grid-size">Grid Size:</label>
                    <select id="grid-size">
                        <option value="25">25x25</option>
                        <option value="50" selected>50x50</option>
                        <option value="75">75x75</option>
                        <option value="100">100x100</option>
                        <option value="150">150x150</option>
                        <option value="200">200x200</option>
                    </select>

                    <label for="generation-count">Generations to Compute:</label>
                    <input type="number" id="generation-count" min="1" max="1000" value="50">

                    <label for="display-start">Display From Gen:</label>
                    <input type="number" id="display-start" min="0" value="0">

                    <label for="display-end">Display To Gen:</label>
                    <input type="number" id="display-end" min="1" value="50">

                    <div class="play-controls">
                        <button id="compute-btn">Compute Generations</button>
                        <button id="play-btn">Play</button>
                        <button id="pause-btn">Pause</button>
                        <button id="step-back">◀ Step</button>
                        <button id="step-forward">Step ▶</button>
                    </div>
                </div>

                <div class="control-section">
                    <h3>Visual Settings</h3>
                    <label for="cell-padding">Cell Padding: <span id="padding-value">20%</span></label>
                    <input type="range" id="cell-padding" min="0" max="100" value="20">

                    <label for="cell-color">Cell Color:</label>
                    <input type="color" id="cell-color" value="#00ff88">

                    <label>
                        <input type="checkbox" id="grid-lines" checked> Grid Lines
                    </label>

                    <label>
                        <input type="checkbox" id="generation-labels" checked> Generation Labels
                    </label>
                </div>

                <div class="control-section">
                    <h3>Built-in Patterns</h3>
                    <button class="pattern-btn" data-pattern="glider">Glider</button>
                    <button class="pattern-btn" data-pattern="blinker">Blinker</button>
                    <button class="pattern-btn" data-pattern="pulsar">Pulsar</button>
                    <button class="pattern-btn" data-pattern="glider-gun">Glider Gun</button>
                    <button class="pattern-btn" data-pattern="r-pentomino">R-pentomino</button>
                </div>

                <div class="control-section">
                    <h3>Camera</h3>
                    <button id="reset-camera">Reset Camera</button>
                    <div class="camera-help">
                        <small>
                            WASD/Arrows: Pan<br>
                            Q/E: Rotate<br>
                            O/P: Z-Axis Orbit<br>
                            R/F: Up/Down<br>
                            Mouse: Orbit<br>
                            Wheel: Zoom
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <div id="status-bar" class="status-bar">
            <span id="status-generation">Gen: 0-0</span>
            <span id="status-fps">FPS: 0</span>
            <span id="status-cells">Cells: 0</span>
        </div>
    </div>

    <script type="importmap">
    {
      "imports": {
        "three": "./node_modules/three/build/three.module.js"
      }
    }
    </script>
    <script type="module" src="dist/main.js"></script>
</body>
</html>
